Chart.defaults.font.family="Arial";const getDatasets=function(a){let e=getData(a);if(e.error)return console.error(e.error);e=e.filter((a=>a));let t=createDatasets();for(let a of t)a.data=e.map((e=>({x:new Date(e.time),y:e.maintenance?null:-1==e[a.name]?-10:e[a.name]})));return t},createDatasets=function(){return[{name:"auth",label:"Авторизация",data:[]},{name:"market",label:"Аукцион",data:[]},{name:"k1",label:"Кальфеон-1",data:[]},{name:"v1",label:"Валенсия-1",data:[]},{name:"m1",label:"Медия-1",data:[]},{name:"kam1",label:"Камасильвия-1",data:[]}]},getData=function(a,e="GET",t=!1,n=!1){let r;return $.ajax({type:e,url:a,async:t,cache:n,success:function(a){r=a},error:function(a){console.error({error:a})}}),r},updateData=function(a,e){a.data.datasets[0].label=e.label,a.data.datasets[0].data=e.data,a.update()};

Chart.defaults.font.family="Arial";const getDatasets=async function(a){let t=await getData(a);if(!t)return;t=t.filter((a=>a));let e=createDatasets();for(let a of e)a.data=t.map((t=>({x:new Date(t.time),y:t.maintenance?null:-1==t[a.name]?-10:t[a.name]})));return e},createDatasets=function(){return[{name:"auth",label:"Авторизация",data:[]},{name:"market",label:"Аукцион",data:[]},{name:"k1",label:"Кальфеон-1",data:[]},{name:"v1",label:"Валенсия-1",data:[]},{name:"m1",label:"Медия-1",data:[]},{name:"kam1",label:"Камасильвия-1",data:[]}]},getData=async function(a){try{let t=await fetch(a);return await t.json()}catch(a){return console.error({error:a})}},updateData=function(a,t){a.data.datasets[0].label=t.label,a.data.datasets[0].data=t.data,a.update()};
